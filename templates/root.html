<!DOCTYPE html>

<html>
<head>
    <title>ThermoPi Control Panel</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="shortcut icon" href="{{ url_for('static', filename='favicon.png') }}" />
    <script type="text/javascript" src="{{ url_for('static', filename='functions.js') }}"></script>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style.css') }}" />
</head>

<body style="width:480px">

<h1>ThermoPi Control Panel</h1>

<p style="color:red">{{ error_message }}</p>
<p style="color:green">{{ success_message }}</p>

<h4>Current Temperature</h4>
<div id="temps" style="margin:0px 5%; width:360px">
    <div id="temp_inside" style="float:left; margin:0; width:50%">
        {{ temp_inside }}
    </div>
    <div id="temp_outside" style="float:left; margin:0; width:50%">
        {{ temp_outside }}
    </div>
</div>
<br />
<br />

<h4>Status/Manually Toggle</h4>
<input type="submit" value="Toggle Fan" style="width:90px" /> Fan: {{ fan_status }}
<br /><br />
<input type="submit" value="Toggle AC" style="width:90px" /> AC: {{ ac_status }}

<br /><br />

<h4>Events</h4>

<table class="list">
    <tr>
        <th>Days</th>
        <th>Time</th>
        <th>Device</th>
        <th>Set to</th>
        <th>Temp</th>
        <th></th>
    </tr>
{% for days, time, device, mode, temp in events %}
   <tr>
        <td>{{ days }}</td>
        <td>{{ time }}</td>
        <td>{{ device }}</td>
        <td>{{ mode }}</td>
        <td>{{ temp }}</td>
        <td><a href="/deleteevent?index={{ loop.index0  }}"><img width=16 height=16
             src="{{ url_for('static', filename='trash_bin.jpg') }}" />
             </a></td>
   </tr>
{% endfor %}
</table>

<br />

<h4>Create Event</h4>
<form action="/newevent" method="POST" enctype="multipart/form-data"
onsubmit="return (checkFormValue(document.new_event.time) && checkFormValue(document.new_event.temp))" name="new_event">
    <input type="button" onclick="checkAll(document.new_event.days_select)" value="Check All" />
    <input type="button" onclick="uncheckAll(document.new_event.days_select)" value="Uncheck All" />
    <br />
    <input type="checkbox" id="sunday" name="days_select" value="sunday" /><label for="sunday">S</label>
    <input type="checkbox" id="monday" name="days_select" value="monday" /><label for="monday">M</label>
    <input type="checkbox" id="tuesday" name="days_select" value="tuesday" /><label for="tuesday">T</label>
    <input type="checkbox" id="wednesday" name="days_select" value="wednesday" /><label for="wednesday">W</label>
    <input type="checkbox" id="thursday" name="days_select" value="thursday" /><label for="thursday">Th</label>
    <input type="checkbox" id="friday" name="days_select" value="friday" /><label for="friday">F</label>
    <input type="checkbox" id="saturday" name="days_select" value="saturday" /><label for="saturday">Sa</label>
    <br />
    <label for="time">Time (Military time: 0000-2400):</label>
    <input type="text" style="width:40px;" name="time" id="time" maxlength="4" />
    <br />
    <input type="radio" id="fan" name="device_select" value="fan" checked /><label for="fan">Fan</label>
    <input type="radio" id="ac" name="device_select" value="ac" /><label for="ac">AC</label>
    <input type="radio" id="heat" name="device_select" value="heat" /><label for="heat">Heat</label>
    <br />
    <input type="radio" id="off" name="mode_select" value="off" required="required" /><label for="off">Off</label>
    <input type="radio" id="on" name="mode_select" value="on" /><label for="on">On</label>
    <input type="radio" id="auto" name="mode_select" value="auto" /><label for="auto">Auto:</label>
    <input type="text" id="temp" name="temp" maxlength="2" onfocus="document.new_event.auto.checked = true" style="width:18px" value="0"/>
    <br />

    <input type="submit" value="Create Event" />
</form>

</body>

</html>
